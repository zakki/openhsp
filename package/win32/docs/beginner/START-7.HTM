<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="ja">	<head>		<meta http-equiv="content-type" content="text/html;charset=euc-jp">		<meta lang="ja" name="keywords" content="HSP,Hot Soup Processor,HSPTV,HSP3,HSP3.0,ONION software,onitama,ホットスープ,プロセッサ,インタプリタ,言語,ＨＳＰ">		<meta name="generator" content="Adobe GoLive">		<title>HSP入門</title>		<link href="main.css" type="text/css" rel="stylesheet" media="all">	</head>	<body onload="preloadImages();" background="images/back6.gif" link="blue" leftmargin="0" marginheight="0" marginwidth="0" topmargin="0">		<div align="center">						<table width="800" border="0" cellspacing="0" cellpadding="0">				<tr>					<td align="left" valign="top" bgcolor="white" width="169">										<br>						<table width="150" border="0" cellspacing="0" cellpadding="0" height="354">							<tr height="30">								<td height="30" background="images/back_menuue.gif">									<p class="leftsubmenu"><a href="COVER.HTM">Start!</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-1.HTM">Step1</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-2.HTM">Step2</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-3.HTM">Step3</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-4.HTM">Step4</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-5.HTM">Step5</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-6.HTM">Step6</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu" style="color:#009999; font-weight:bold;">Step7</p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-8.HTM">Step8</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-9.HTM">Final</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="THANKS.HTM">Special thanks</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_menusita.gif">									<p class="leftsubmenu"><a href="START.HTM">Cover</a></p>								</td>							</tr>						</table>						<br>					</td>					<td align="left" valign="top" bgcolor="white">						<div class="contents">														<div class="section">								<h2 class="play">step7：変数を使ってみよう</h2>								<p>そろそろスクリプトが長くなってきましたよね。こうなると、複雑で読 みにくくなってくることがあります。そんな時に便利なのがコメントで す。コメントとは、スクリプトの中に注釈として好きな文字を入れてお くこと。でも、それが命令と勘違いされては困るのでコメントの書き方 にもルールがあります。たとえば、<br>									<br>									<b>; この行はコメントでーす<br>										mes &quot;メッセージ&quot;; この部分はコメントでーす </b><br>									<br>									のように使います。つまり</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>「;(セミコロン)」の後はコメントになり、無視される。</p>								</div>								<br>								<p>ということです。「;」の後には命令を書こうが、文章を書こうがスク リプトの実行には何の影響もありません。ですから、<br>									<br>									<b>exec &quot;notepad&quot; ; メモ帳を起動</b><br>									<br>									のように気軽に注釈をつけておくことが可能です。こうすれば、後でス クリプトを見直した時にも、どの行で何が行なわれているかが解りやす くなるので、おすすめですよ。<br>									<br>									さて、それでは本題の「変数を使ってみよう」に入りましょう。 そもそも変数って何なんだー、って思うでしょう。いままでは、たとえ ばカレントポジションを変更したければ、<br>									<br>									<b>pos 150,80 ; カレントポジションを(150,80)に変更</b><br>									<br>									のように数値を指定していました。これを変数というもので置きかえる ことができます。すると、<br>									<br>									<b>x=150 ; 変数xに150を代入<br>										y=80 ; 変数yに80を代入<br>										pos x,y ; カレントポジションを(x,y)に変更 </b><br>									<br>									こうなります。これでも、カレントポジションは(150,80)に変更されま す。ええーーー?? どうしてーー??<br>									<br>									変数はよく、「いれもの」にたとえられます。数値を記憶しておく、「 いれもの」です。「いれもの」には名前をつけておきます。たとえば、<br>									<br>									<b>「x という名前のいれもの」</b><br>									<br>									「いれもの」には当然、中に何かを入れることができます。<br>									<br>									<b>「xといういれものに100という数字を入れる」</b><br>									<br>									といった感じで、中に数字を入れておくことができます。この「いれもの」が、すなわち変数。だから、上の言葉は、<br>									<br>									<b>「xという変数に100という数字を入れる」</b><br>									<br>									ということだと思ってください。これをスクリプトで書くと、<br>									<br>									<b>x=100</b><br>									<br>									になります。このように変数（いれもの）に数字を入れることを「代入」 と呼びます。代入を行なうと、変数に数字が記憶され、それ以降はその 変数を数字のかわりとして使うことができるようになります。</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>「代入」とは、変数に数値を覚えさせること<br>										「代入」は、「変数名」＋「=(イコール)」＋「数値」で行なう</p>								</div>								<br>								<p>というのをよく覚えておいてください。</p>								<table width="141" border="0" cellspacing="0" cellpadding="0">									<tr>										<td align="center" width="45">											<p><b>hensu</b></p>										</td>										<td align="center" width="19">											<p><b>=</b></p>										</td>										<td align="center">											<p><b>1234</b></p>										</td>									</tr>									<tr>										<td align="center" width="45">											<p><b>|</b></p>										</td>										<td align="center" width="19"></td>										<td align="center">											<p><b>｜</b></p>										</td>									</tr>									<tr>										<td align="center" width="45">											<p><b>変数名</b></p>										</td>										<td align="center" width="19">											<p></p>										</td>										<td align="center">											<p><b>代入する数値</b></p>										</td>									</tr>								</table>								<br>								<p>代入だけは、他の命令と違って書き方が特殊ですが、算数の式と似てい るのでわかってしまえば簡単です。 変数名は、英文字(20文字以内)の名前をつけたもので、 覚えさせられる数値は、「123」のような整数値か、「1.5」のような小数値になります。<br>									<br>									変数名には、さらにルールがあります。命令と同じ単語は使ってはいけ ません。命令か変数かわからなくなっちゃいますからね。あと、前に説明したラベルと同じ名前を使ってもいけません。<br>									<br>									変数は好きな時に代入することができ、スクリプトの中で何度でも変更 することができます。１つの変数が覚えているのは１つの数値だけです から、最後に代入した数値が常に記憶されてることになります。 たとえば、<br>									<br>									<b>hen=150<br>											cls 1<br>											hen=50</b><br>									<br>									のようなスクリプトは、1行目で変数henに150という数値を代入しまし たが、3行目には変数henは50に変更されています。この時点ですでに前 に代入した150は消えてなくなってしまいます。<br>									<br>									でもここで言っているだけでは、やっぱりいまひとつ解りませんよね。 そこで、変数の記憶している数値を実際に確かめてみましょう。 前に出てきた「mes」命令でそれができます。「mes」命令は、<br>									<br>									<b>mes &quot;文字列&quot;+変数名</b><br>									<br>									で文字列の後に変数の内容を表示できるのです。「+(プラス)」の記号 を使うことで文字列と変数名をどんどんつなげることもできます。 これを使った、次のようなスクリプトを入力してみましょう。<br>									<br>									<b>hen=150<br>										mes &quot;現在の変数henの数値は、&quot;+hen+&quot;です。&quot;<br>											hen=50<br>										mes &quot;現在の変数henの数値は、&quot;+hen+&quot;です。&quot;<br>											stop<br>									</b><br>									このスクリプトを実行してみると…。<br>									<br>									<b>現在の変数henの数値は、150です。<br>										現在の変数henの数値は、50です。</b><br>									<br>									というように表示されます。 つまり、2行目の時点では変数henは150という数値を記憶していました が、3行目に新しく代入があったので、4行目では変数henは50という数 値になっていたのです。<br>									<br>									さあ、ここまでわかったところで、もともとの例になっていたスクリプ トに戻ってみましょう。<br>									<br>									<b>x=150<br>											y=80<br>											pos x,y </b><br>									<br>									というスクリプトは結局、<br>									<br>									<b>pos 150,80</b><br>									<br>									と指定しているのと同じことなのです。 数字の代わりに、名前を使ってるだけなんじゃないかー。と思うかもし れません。いやいやしかし、これは実はとても応用のきく便利なものな のです。そのカギを握るもの。それが数式です。<br>									<br>									いままでパラメータとして数値を入れる場所には、100とか20とかいう 数を直接書いていました。そしてさらに、それ以外に変数を書いてもい いということも覚えましたね。でもでもしかし、いやいや実は、 数式を書いてもよかったのです。 えーーー?? 今度は数式??　また別な要素が?? と思うのは間違いで、数字と変数を計算式とおり混ぜて書くことができ るということなのです。それが数式。つまり、<br>								</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>数式とは、数値と変数、またはそれらを計算式でつなげて書くこと</p>								</div>								<p>なのです。計算式とは、つまり<br>									<b>1+1</b><br>									とか、<br>									<b>125+200-32 </b><br>									とか。いわゆる、算数の式です。だから、<br>									<b>pos 150,100</b><br>									じゃなくて、<br>									<b>pos 100+50,50*2 </b><br>									でもいいのです。これも「150,100」と同じことになります。 いやいやちょっと「50*2」って何??　と思うでしょう。HSPでは、計算 で使う記号が次のようになっているのです。<br>								</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>「+」は足し算<br>										「-」は引き算<br>										「*」は掛け算(×)<br>										「/」は割り算(÷)</p>								</div>								<p>キーボードには「×」「÷」といった記号がないので、かわりに別の記 号を使っています。だから、「50*2」は50掛ける2のこと。これに変数 をまぜることができるわけですから、<br>									<br>									<b>x=30<br>											y=100<br>											pos x,y<br>										mes &quot;１．ばんめ&quot;<br>											pos x,y+50<br>										mes &quot;２．ばんめ&quot; </b><br>									<br>									のように、使用できます。この例だと、(30,100)と(30,150)にメッセー ジが表示されます。しかもこの場合、「もうちょっと全体を上にずらし たい…」という時に、2行目のy=100を、y=80などに変更するだけで、2 つのメッセージの場所をいっきに変更することができるというわけ。 この例だとメッセージが2つだけだから楽だけど、これが10行くらいあ るメッセージだとしたら、いちいち「pos」命令の数値を変更していく 苦労と比べるとすごく便利になりますよね。<br>									<br>									数式はさらに、変数の代入でも使うことができます。<br>									<br>									<b>x=5<br>											y=10<br>											z=x*8/y </b><br>									<br>									のように使ってみたり、<br>									<br>									<b>hen=0<br>											hen=hen+1 </b><br>									<br>									のように使います。上の例では、1行目で変数henは0が代入されていま す。でも2行目でどうなっちゃうんでしょう?? 2行目で変数henに代入される前の時点での変数henは、0です。それに1 を足したものを、ふたたび変数henに代入するわけですから、変数henは 1になります…と、そんな複雑に考えなくても、<br>								</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>hen=hen+1 は、変数henの内容に1を足す<br>									</p>								</div>								<p>というように覚えておくだけでOKです。このように、もとの変数の値を 計算によって変化させる…というパターンはよく使うことが多いので、 決まり文句だと思って覚えてしまってもいいでしょう。 さあ、だいたいの変数の使い方、理解できましたか?? この次のパートでは、さらにその応用を説明していきましょうね。<br>								</p>							</div>							<div class="section">								<table>									<tr>										<td><a href="START-8.HTM"><img src="images/btn_next.gif" alt="" height="29" width="29" border="0"></a></td>										<td><font size="-1"><a href="START-8.HTM">step8：さらに高度な条件判断</a></font></td>									</tr>								</table>							</div>						</div>					</td>				</tr>			</table>															<div align="center">			<table width="800" border="0" cellspacing="0" cellpadding="0">					<tr>					<td align="center">							<p style="color:#333333; font-size:10px; margin:5px 0px">ONION software Copyright 1997-2007(c) All rights reserved.<br>							</p>						</td>				</tr>				</table>		</div></div>	</body></html>