<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="ja">	<head>		<meta http-equiv="content-type" content="text/html;charset=euc-jp">		<meta lang="ja" name="keywords" content="HSP,Hot Soup Processor,HSPTV,HSP3,HSP3.0,ONION software,onitama,ホットスープ,プロセッサ,インタプリタ,言語,ＨＳＰ">		<meta name="generator" content="Adobe GoLive">		<title>HSP入門</title>		<link href="main.css" type="text/css" rel="stylesheet" media="all">	</head>	<body onload="preloadImages();" background="images/back6.gif" link="blue" leftmargin="0" marginheight="0" marginwidth="0" topmargin="0">		<div align="center">						<table width="800" border="0" cellspacing="0" cellpadding="0">				<tr>					<td align="left" valign="top" bgcolor="white" width="169">										<br>						<table width="150" border="0" cellspacing="0" cellpadding="0" height="354">							<tr height="30">								<td height="30" background="images/back_menuue.gif">									<p class="leftsubmenu"><a href="COVER.HTM">Start!</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-1.HTM">Step1</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-2.HTM">Step2</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-3.HTM">Step3</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-4.HTM">Step4</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-5.HTM">Step5</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-6.HTM">Step6</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-7.HTM">Step7</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu" style="color:#009999; font-weight:bold;">Step8</p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="START-9.HTM">Final</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_submenu.gif">									<p class="leftsubmenu"><a href="THANKS.HTM">Special thanks</a></p>								</td>							</tr>							<tr height="30">								<td height="30" background="images/back_menusita.gif">									<p class="leftsubmenu"><a href="START.HTM">Cover</a></p>								</td>							</tr>						</table>						<br>					</td>					<td align="left" valign="top" bgcolor="white">						<div class="contents">														<div class="section">								<h2 class="play">step8：さらに高度な条件判断</h2>								<p>この「HSP入門」もいよいよ最後が近くなってきました。あとはもう、 条件判断というスクリプトならではの機能をマスターすれば、基本的な 部分はもう終わり。あとはもう応用次第で色々なソフトを作ることがで きるようになります。<br>									<br>									条件判断というと、何か難しい判定をしてしまいそうな予感がしますが、 それはすなわち、<br>									<br>									<b>「変数と数値を比べること」</b><br>									<br>									なのです。そして比べた結果、別なことをする…それがスクリプトなら ではの処理であり、応用がきく点なのです。<br>									<br>									HSPでは、条件判断をする命令は1つしかありません。この1つを覚える だけ。でもその前に、ちょっと覚えておくべきことがあります。<br>									<br>									HSPでは、1行には1つの命令を書いて、1行目から順番に実行されていく というのがスクリプトの原則でしたが、実は、<br>									<br>									<b>1行に複数の命令を書いてもいい</b><br>									<br>									のです。でもいままで言わなかったのは、最初からそれをやるとスクリ プトが複雑になり、見難くなるからです。これから1行に複数の命令を 書く方法を説明しますが、必要以上に1つの行に命令をつめこみすぎる と、あとで見た時にさっぱりわからないスパゲッティスクリプト（ごち ゃごちゃしたスクリプト）になりますから注意して使ってくださいね。 で、1行に複数の命令を書くには単に、<br>									<br>								</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>「:(コロン)」で区切れば、1行に複数の命令が書ける</p>								</div>								<br>								<p><br>									のでした。つまり、<br>									<br>									<b>x=150<br>											y=100<br>											pos x,y </b><br>									<br>									という3行のスクリプトも、<br>									<br>									<b>x=150:y=100:pos x,y </b><br>									<br>									と書けば1行に収まるというわけ。これが見にくい時は、<br>									<br>									<b>x=150 : y=100 : pos x,y</b><br>									<br>									というように自由にスペースをあけてもかまいません。 このように1行に複数の命令を書くことは 「<font color="#33cccc">マルチステートメント</font>」と呼ばれています。これを使うと、とたんにスクリプトの密度が上がりカ ッコいい感じになります。が、くれぐれも見やすいスクリプトを目指すようにしてくださいね。<br>									<br>									さて、というわけで「<font color="#66cccc">マルチステートメント</font>」を覚えたところで、またまた条件判断の話に戻ります。条件判断のための、ただ1つの命令、 それは、</p>								<br>								<img src="images/btn_extention.gif"><br>								<div class="enroll">									<p>if 条件式 : 条件が正しい時に実行される命令。</p>								</div>								<br>								<p>ここで条件式という謎の単語が出てきました。それはつまり、</p>								<br>								<img src="images/btn_extention.gif" alt="" height="29" width="29" border="0"><br>								<table width="455" border="0" cellspacing="2" cellpadding="0" bgcolor="#ccffff">									<tr>										<td align="center" bgcolor="#ccffff">											<p>条件式</p>										</td>										<td align="center" bgcolor="#ccffff">											<p>意味</p>										</td>									</tr>									<tr>										<td align="center" bgcolor="white">											<p>変数名 = 数値</p>										</td>										<td align="center" bgcolor="white">											<p>変数の内容と数値が同じである</p>										</td>									</tr>									<tr>										<td align="center" bgcolor="white">											<p>変数名 ! 数値</p>										</td>										<td align="center" bgcolor="white">											<p>変数の内容と数値が同じではない</p>										</td>									</tr>									<tr>										<td align="center" bgcolor="white">											<p>変数名 &lt; 数値</p>										</td>										<td align="center" bgcolor="white">											<p>変数の内容より数値の方が数が大きい</p>										</td>									</tr>									<tr>										<td align="center" bgcolor="white">											<p>変数名 &gt; 数値</p>										</td>										<td align="center" bgcolor="white">											<p>変数の内容より数値の方が数が小さい</p>										</td>									</tr>								</table>								<br>								<p>このようなものです。条件式によって、変数と数値を比べる条件を指定 するのです。条件判断の基準が、<br>									<br>									<b>hen&lt;10</b><br>									<br>									ならば、変数henの内容は10より小さいか? になるのです。 これで条件判断をすることで、いったい何ができるのでしょうか?? たとえば、これと「goto」命令を組み合わせることにより、指定した回 数だけ同じことを繰り返すループを作ることができます。<br>								</p>								<br>								<table width="592" border="0" cellspacing="0" cellpadding="0">									<tr>										<td width="45">											<p></p>										</td>										<td>											<p><b>kai=0</b></p>										</td>									</tr>									<tr>										<td width="45">											<p><b>*kuri</b></p>										</td>										<td>											<p></p>										</td>									</tr>									<tr>										<td width="45">											<p></p>										</td>										<td>											<p><b>mes &quot;くりかえすよー。&quot;<br>														kai=kai+1<br>													if kai &lt; 10 : goto *kuri<br>												</b></p>										</td>									</tr>								</table>								<p><br>									上の例では、変数kaiの内容を1づつ足していき、10になるまで「goto」 命令によって同じ場所を繰り返すようになっています。これを実行させ ると、「くりかえすよー」というメッセージが10個表示されます。これ が、条件判断を使った1つの例。もう1つ別な例を見てみましょう。<br>								</p>								<br>								<table width="568" border="0" cellspacing="0" cellpadding="0">									<tr>										<td width="61">											<p></p>										</td>										<td>											<p><b>cls<br>														kai=0<br>													mes &quot;ボタンを押してね&quot;<br>													button &quot;PUSH&quot;,*gopush<br>													button &quot;END&quot;,*goend<br>														stop</b></p>										</td>									</tr>									<tr>										<td width="61">											<p><b>*gopush</b></p>										</td>										<td>											<p></p>										</td>									</tr>									<tr>										<td width="61">											<p></p>										</td>										<td>											<p><b>kai=kai+1<br>														stop</b></p>										</td>									</tr>									<tr>										<td width="61">											<p><b>*goend</b></p>										</td>										<td>											<p></p>										</td>									</tr>									<tr>										<td width="61">											<p></p>										</td>										<td>											<p><b>if kai &gt; 0 : goto *owari<br>													mes &quot;せめて1回は「PUSH」ボタンを押してよ&quot;<br>														stop</b></p>										</td>									</tr>									<tr>										<td width="61">											<p><b>*owari</b></p>										</td>										<td>											<p></p>										</td>									</tr>									<tr>										<td width="61">											<p></p>										</td>										<td>											<p><b>cls<br>													mes &quot;あなたは、&quot;+kai+&quot;回「PUSH」ボタンを押しましたね&quot;<br>														stop</b></p>										</td>									</tr>								</table>								<p><br>									この例では、「PUSH」と「END」という2つのボタンが表示され、「END」 のボタンを押すと、それまでに「PUSH」を押した回数を表示するという ものです。ただし、「PUSH」を1回も押さないうちに「END」を押した時 には、「せめて1回は「PUSH」ボタンを押してよ」と注意を促すメッセ ージが表示されるように条件判断をしています。<br>									<br>									このように変数とからめて、特定のメッセージを読んだか?　ボタンを 押したか? などを判断する時などにも使用することができます。<br>									<br>									このように条件判断を使うことで、より高度なスクリプトを書くことが できるようになります。簡単なアドベンチャーゲームなどを作る時にも 欠かせない命令です。<br>									<br>									HSPの命令はまだまだたくさん用意されていますが、ここまで覚えてき た命令を使うだけでも、ランチャーやCG集などメディアブラウザ、アド ベンチャーゲームなど色々なソフトが作れるはずです。まずは、基本を しっかり覚えて無理のない範囲でスクリプトを作っていきましょう。<br>									<br>									さあ、これでスクリプトの書き方の基本はだいたい説明してしまった わけですが、HSPにはまだまだ多彩な命令と使い方があります。 それは…また別な機会にお話ししましょう 。<br>								</p>							</div>							<div class="section">								<table>									<tr>										<td><a href="START-9.HTM"><img src="images/btn_next.gif" alt="" height="29" width="29" border="0"></a></td>										<td><font size="-1"><a href="START-9.HTM">最終章へ</a></font></td>									</tr>								</table>							</div>						</div>					</td>				</tr>			</table>															<div align="center">			<table width="800" border="0" cellspacing="0" cellpadding="0">					<tr>					<td align="center">							<p style="color:#333333; font-size:10px; margin:5px 0px">ONION software Copyright 1997-2007(c) All rights reserved.<br>							</p>						</td>				</tr>				</table>		</div></div>	</body></html>